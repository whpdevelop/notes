<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <ul>
        <li>文档片段1</li>
        <li>文档片段2</li>
        <li>文档片段3</li>
        <li>文档片段4</li>
        <li>文档片段5</li>
        <li>{{text}}</li>
    </ul>

    <script>
        // 发布/订阅
        // 脏值检查
        // 数据劫持
        // 发布订阅+ 数据劫持

        //数据劫持
        // Object.defineProperty
        // Object.defineProperty

        // var obj = {}
        // Object.defineProperty(obj, 'name', {
        //     get: function() {
        //         console.log('获取属性')
        //     },
        //     set: function(newVal) {
        //         console.log('设置属性')
        //     }
        // })
        //定义订阅者
        // var sub1 = {
        //     update: function() {
        //         console.log('sub1')
        //     }
        // }
        // var sub2 = {
        //     update: function() {
        //         console.log('sub2')
        //     }
        // }
        // var sub3 = {
        //         update: function() {
        //             console.log('sub3')
        //         }
        //     }
        //     // 订阅者容器
        // function Dep() {
        //     this.subs = [sub1, sub2, sub3]
        // }
        // Dep.prototype.notify = function() {
        //     this.subs.forEach((sub) => {
        //         sub.update()
        //     })
        // }
        // var dep = new Dep()
        //     // 定义发布者

        // var pub = {
        //     publish: function() {
        //         dep.notify()
        //     }
        // }
        // pub.publish()

        // document.createElement
        //创建文档片段
        var flag = document.createDocumentFragment();
        var ul = document.getElementsByTagName('ul')[0]
            // flag.appendChild(ul.firstChild)
            // flag.appendChild(ul.firstChild)
            // flag.appendChild(ul.firstChild)
            // flag.appendChild(ul.firstChild)
            // flag.appendChild(ul.firstChild)
        var child;
        while (child = ul.firstChild) {
            child.innerHTML = '00000'
                // console.log(child)
            flag.appendChild(child)
        }

        ul.appendChild(flag)
    </script>
</body>

</html>